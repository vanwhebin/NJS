<h2 id="功能-指令"><a href="#功能-指令" class="header-anchor" one-link-mark="yes">#</a> 功能（指令）</h2>
<h3 id="服务器"><a href="#服务器" class="header-anchor" one-link-mark="yes">#</a> 服务器</h3>
<p>（被动）上传地图：设置l4_master后，在群内发送压缩包zip/vpk/7z/rar，就可以直接上传地图到服务器了
如果设置了管理员，那么在群里也响应
[ip]格式为[127.0.0.1:20715]括号内</p>
<p>求生帮助：获取简单的帮助列表</p>
<table><thead><tr><th style="text-align:center;">指令</th> <th style="text-align:center;">范围</th> <th style="text-align:center;">用途</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">求生地图/查看求生地图</td> <td style="text-align:center;">所有人</td> <td style="text-align:center;">看图</td> <td style="text-align:center;">获取当前路径下所有的vpk文件，并输出目录</td></tr> <tr><td style="text-align:center;">(求生)地图删除[number]</td> <td style="text-align:center;">群管/超管</td> <td style="text-align:center;">删图</td> <td style="text-align:center;">根据求生地图列出的序号，删除地图，[number]可以在第二条消息内输入</td></tr> <tr><td style="text-align:center;">求生地图[number][改/改名][text]</td> <td style="text-align:center;">群管/超管</td> <td style="text-align:center;">改图名</td> <td style="text-align:center;">[number]同上，text为更改后名称，如果没有.vpk后缀会自动加上</td></tr> <tr><td style="text-align:center;">求生服务器指令[text]</td> <td style="text-align:center;">群管/超管</td> <td style="text-align:center;">rcon控制台</td> <td style="text-align:center;">rcon连接求生服务器控制台，使用ip和passsword</td></tr> <tr><td style="text-align:center;">求生路径</td> <td style="text-align:center;">群管/超管</td> <td style="text-align:center;">查看路径</td> <td style="text-align:center;">查看当前服务器路径</td></tr> <tr><td style="text-align:center;">求生路径切换[number]</td> <td style="text-align:center;">群管/超管</td> <td style="text-align:center;">切换路径</td> <td style="text-align:center;">切换本地服务器路径</td></tr> <tr><td style="text-align:center;">求生插件</td> <td style="text-align:center;">群管/超管</td> <td style="text-align:center;">查看求生插件</td> <td style="text-align:center;">查看当前路径下求生插件smx文件</td></tr></tbody></table>
<h3 id="anne-电信服"><a href="#anne-电信服" class="header-anchor" one-link-mark="yes">#</a> anne(电信服)</h3>
<table><thead><tr><th style="text-align:center;">指令</th> <th style="text-align:center;">范围</th> <th style="text-align:center;">用途</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">探监/坐牢/开牢</td> <td style="text-align:center;">所有人</td> <td style="text-align:center;">随机抽一个目标云服</td> <td style="text-align:center;">探监是得分超过160的队伍\n坐牢是缺人队伍\n开牢是空人房间</td></tr> <tr><td style="text-align:center;">求生anne[text]/@/[None]</td> <td style="text-align:center;">所有人</td> <td style="text-align:center;">查anne成绩</td> <td style="text-align:center;">[text]可以是:空白(则使用绑定信息)、昵称、steamid、@user</td></tr> <tr><td style="text-align:center;">求生绑定/steam绑定/anne绑定[text]</td> <td style="text-align:center;">所有人</td> <td style="text-align:center;">绑定steam信息</td> <td style="text-align:center;">[text]可以是:昵称、steamid</td></tr> <tr><td style="text-align:center;">求生解绑/steam解绑/anne解绑</td> <td style="text-align:center;">所有人</td> <td style="text-align:center;">解绑steam信息</td> <td style="text-align:center;">无</td></tr> <tr><td style="text-align:center;">云[number]</td> <td style="text-align:center;">所有人</td> <td style="text-align:center;">云服信息</td> <td style="text-align:center;">获取服务器状态和直连ip</td></tr></tbody></table>
<h3 id="ip-服务器查询"><a href="#ip-服务器查询" class="header-anchor" one-link-mark="yes">#</a> ip(服务器查询)</h3>
<table><thead><tr><th style="text-align:center;">指令</th> <th style="text-align:center;">范围</th> <th style="text-align:center;">用途</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">求生ip[ip]</td> <td style="text-align:center;">所有人</td> <td style="text-align:center;">查指定服务器</td> <td style="text-align:center;">[text]格式为[127.0.0.1:20715]括号内，可以查询服务器玩家名字</td></tr> <tr><td style="text-align:center;">求生订阅[ip]</td> <td style="text-align:center;">所有人</td> <td style="text-align:center;">查询订阅服务器状态</td> <td style="text-align:center;">返回一个图片\n显示群所有订阅的服务器名字、状态、地图、玩家名字</td></tr> <tr><td style="text-align:center;">求生加入[number]</td> <td style="text-align:center;">所有人</td> <td style="text-align:center;">获取进服直链</td> <td style="text-align:center;">[number]为求生订阅所显示的开头序号</td></tr> <tr><td style="text-align:center;">求生添加订阅[ip]</td> <td style="text-align:center;">群管</td> <td style="text-align:center;">群订阅添加</td> <td style="text-align:center;">新增订阅ip，在下次订阅的时候可以显示</td></tr> <tr><td style="text-align:center;">求生取消订阅[number]</td> <td style="text-align:center;">所有人</td> <td style="text-align:center;">群订阅取消</td> <td style="text-align:center;">[number]为求生订阅所显示的开头序号</td></tr> <tr><td style="text-align:center;">求生更新 添加 [tag] [ip] [text] ([number])</td> <td style="text-align:center;">群管</td> <td style="text-align:center;">全局订阅添加</td> <td style="text-align:center;">可以使用tag(+text)(+number)快速索引服务</td></tr> <tr><td style="text-align:center;">求生更新 删除 [tag] [number]</td> <td style="text-align:center;">群管</td> <td style="text-align:center;">全局订阅添加</td> <td style="text-align:center;">[number]为求生订阅标记的默认序号</td></tr> <tr><td style="text-align:center;">呆呆/呆呆1</td> <td style="text-align:center;">所有人</td> <td style="text-align:center;">读取服务器状态</td> <td style="text-align:center;">为data/L4D2路径下记录的json文件中ip，不带数字默认读取全部</td></tr> <tr><td style="text-align:center;">求生定时添加[text]</td> <td style="text-align:center;">群管</td> <td style="text-align:center;">定时推送状态</td> <td style="text-align:center;">[text]内容同上，推送间隔和次数在配置yml中</td></tr></tbody></table>
<h3 id="其他功能"><a href="#其他功能" class="header-anchor" one-link-mark="yes">#</a> 其他功能</h3>
<table><thead><tr><th style="text-align:center;">指令</th> <th style="text-align:center;">范围</th> <th style="text-align:center;">用途</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">创意工坊下载[text]</td> <td style="text-align:center;">所有人</td> <td style="text-align:center;">下载创意工坊文件</td> <td style="text-align:center;">[text]为id或者网页url</td></tr> <tr><td style="text-align:center;">求生喷漆</td> <td style="text-align:center;">所有人</td> <td style="text-align:center;">制作一个喷漆</td> <td style="text-align:center;">只支持图片暂不支持gif</td></tr> <tr><td style="text-align:center;"><s>求生三方[text]</s></td> <td style="text-align:center;">所有人</td> <td style="text-align:center;">查询三方地图</td> <td style="text-align:center;">可以通过中英文名搜索，并返回上传群文件</td></tr> <tr><td style="text-align:center;">l4更新</td> <td style="text-align:center;">超管</td> <td style="text-align:center;">更新插件</td> <td style="text-align:center;">用于git clone情况下更新插件</td></tr></tbody></table>
<h2 id="网页控制台"><a href="#网页控制台" class="header-anchor" one-link-mark="yes">#</a> 网页控制台</h2>
<p>如果<code>l4_web=True</code>(默认开启)，那么将在bot启动时启用web控制台</p>
<p>启用端口为机器人端口/l4d2，例如env里host为127.0.0.1，port为11451，那么控制台连接为</p>
<div class="language-bash extra-class"><pre class="language-bash"><code>http://127.0.0.1:11451/l4d2
</code></pre></div>
<p>默认账号:l4d2<br>
默认密码:admin</p>
<h2 id="配置"><a href="#配置" class="header-anchor" one-link-mark="yes">#</a> 配置</h2>
<p>位于路径文件l4d2.yml中，也可以通过网页控制台修改</p>
<h2 id="前置游戏操作"><a href="#前置游戏操作" class="header-anchor" one-link-mark="yes">#</a> 前置游戏操作</h2>
<ul><li><p>如果要操作求生服务器文件，机器人与求生服务器处于同一个服务器上</p></li> <li><p>如果你按照以下步骤操作，env配置可以不填</p></li> <li><p>创建一个steam求生服务器(预计需要储存14G)</p></li></ul>